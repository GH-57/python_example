{% extends "baemin/base.html" %}

{% block content %}
    {% include "baemin/_shop_list.html" %}
{% comment %} <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상점 목록</title>
    
</head>
<body>
    <h1>상점 목록</h1>
    <ul>
    {# 템플릿 문법 자체에 자유도를 많이 낮췄습니다. #}
    {# 템플릿 문법의 자유도를 낮춰, 스파게티 코드가 생성된 가능성을 거의 없애버린겁니다. #}
    {# 템플릿 코드에서 다양한 로직(함수/클래스 등)을 정의하고 활용하고픈 유혹에 빠집니다. => 코드에서 냄새가 난다. #}
    {# 장고는 모델(핵심)과 뷰 단에서 필요한 로직을 정의하구요, 템플릿에서는 단순히 보여주는 것에만 집중하기를 권장. #}

    <h2>Page: {{ request.GET.page }}</h2>

        {% for shop in shop_list %}
            <li>
                <a href="/baemin/{{shop.pk}}/">{{ shop.name }}</a>
            </li>
        {% empty %}
            <li>상점이 없습니다.</li>
        {% endfor %}
        
        {# HTMX 요청 여부를 인지하는 다른 방법이 있습니다만, #}
        {# 보다 직관적인 방법을 써볼 것이다#}
        <a hx-get="?page=2&naked=1"
            hx-trigger="click"
            hx-target="this"
            hx-swap="outerHTML">

            2페이지
        </a> 
    </ul>
</body>
</html> {% endcomment %}
{% endblock %}